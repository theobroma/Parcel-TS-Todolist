(this["webpackJsonpreact-ts-todolist-with-hooks"]=this["webpackJsonpreact-ts-todolist-with-hooks"]||[]).push([[0],{25:function(e,t,o){e.exports=o(46)},45:function(e,t,o){},46:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(7),r=o(2),l=o(3),i={addTodo:Object(l.createAction)("@@todos/ADD_TODO")(),handleTodoToggle:Object(l.createAction)("@@todos/TOGGLE_TODO")(),handleTodoRemove:Object(l.createAction)("@@todos/REMOVE_TODO")(),handleTodoToggleAll:Object(l.createAction)("@@todos/TOGGLE_ALL_TODO")(),removeCompleted:Object(l.createAction)("@@todos/REMOVE_COMPLETED_TODOS")(),editTodo:Object(l.createAction)("@@todos/EDIT_TODO")(),cancelEditingTodo:Object(l.createAction)("@@todos/CANCEL_EDIT_TODO")(),changeEditingTodoTitle:Object(l.createAction)("@@todos/CHANGE_EDITING_TODO_TITLE")(),saveEditingTodoTitle:Object(l.createAction)("@@todos/SAVING_EDITING_TODO_TITLE")()},d=o(24),u=a.a.memo((function(e){var t=e.placeholder,o=void 0===t?"What needs to be done?":t,c=e.onSave,r=Object(n.useState)(""),l=Object(d.a)(r,2),i=l[0],u=l[1],O=Object(n.useRef)(null);Object(n.useEffect)((function(){O.current&&O.current.focus()}),[O]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{className:"new-todo",type:"text",placeholder:o,ref:O,value:i,onBlur:function(e){var t=e.currentTarget.value.trim();c(t),u(" ")},onChange:function(e){var t=e.currentTarget.value.trim();u(t)},onKeyDown:function(e){var t=e.currentTarget.value.trim();13===e.which&&(c(t),u(" "))}}))})),O=n.memo((function(){var e=Object(r.c)();return n.createElement("header",{className:"header"},n.createElement("h1",null,"todos"),n.createElement(u,{onSave:function(t){0!==t.length&&e(i.addTodo(t))}}))})),s=function(e){return e.todos},m=function(e){return e.filter},T=o(9),E=o.n(T),b=a.a.memo((function(){var e=Object(r.c)(),t=Object(r.d)(s).editingTodoTitle,o=Object(n.useRef)(null);return Object(n.useEffect)((function(){o.current&&o.current.focus()}),[o]),a.a.createElement("input",{className:"edit",value:t,onBlur:function(){return e(i.saveEditingTodoTitle())},onChange:function(t){return e(i.changeEditingTodoTitle(t.currentTarget.value))},onKeyDown:function(t){27===t.keyCode?e(i.cancelEditingTodo()):13===t.keyCode&&e(i.saveEditingTodoTitle())},ref:o})})),f=Object(r.b)(null,{})((function(e){var t=e.todo,o=e.isEditing,a=Object(r.c)(),c=n.createElement("div",{className:"view"},n.createElement("input",{className:"toggle",type:"checkbox",checked:t.completed,onChange:function(){return a(i.handleTodoToggle(t._id))}}),n.createElement("label",{htmlFor:"itself",onDoubleClick:function(){return a(i.editTodo(t._id))}},t.text),n.createElement("button",{type:"button",className:"destroy",onClick:function(){return a(i.handleTodoRemove(t._id))}}));return n.createElement("li",{className:E()({completed:t.completed,editing:o})},c,o?n.createElement(b,null):null)})),g=a.a.memo((function(e){var t=e.activeTodoCount,o=Object(r.c)(),n=Object(r.d)(s),c=n.data,l=n.editingTodoId,d=Object(r.d)(m),u=function(){var e=0!==t;o(i.handleTodoToggleAll(e))},O=function(e){return"SHOW_ALL"===d||"SHOW_ACTIVE"===d&&!e.completed||"SHOW_COMPLETED"===d&&e.completed};return a.a.createElement("section",{className:"main"},c.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",onChange:u,checked:0===t}),a.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete")):null,a.a.createElement("ul",{className:"todo-list"},c.filter(O).map((function(e){return a.a.createElement(f,{key:e._id,todo:e,isEditing:l===e._id})}))))})),j=a.a.memo((function(e){var t=e.type,o=e.children,n=Object(r.c)(),c=Object(r.d)(m);return a.a.createElement("li",null,a.a.createElement("a",{href:"#",onClick:function(){return n(function(e){return{type:"@@filter/SET_FILTER",payload:e}}(t))},className:E()({selected:c===t})},o))}));var p,v=n.memo((function(e){var t,o=e.activeTodoCount,a=e.completedCount,c=Object(r.c)(),l=function(){c(i.removeCompleted())};return n.createElement("footer",{className:"footer"},n.createElement("span",{className:"todo-count"},n.createElement("strong",null,o)," ",(t="item",1===o?t:"".concat(t,"s"))," left"),n.createElement("ul",{className:"filters"},n.createElement(j,{type:"SHOW_ALL"},"All"),n.createElement(j,{type:"SHOW_ACTIVE"},"Active"),n.createElement(j,{type:"SHOW_COMPLETED"},"Completed")),a>0?n.createElement("button",{type:"button",className:"clear-completed",onClick:l},"Clear completed"):null)})),_=function(){var e,t=Object(r.d)(s).data,o=t.reduce((function(e,t){return t.completed?e:e+1}),0),n=t.length-o;return(o||n)&&(e=a.a.createElement(v,{activeTodoCount:o,completedCount:n})),a.a.createElement("div",{className:"App"},a.a.createElement("section",{className:"todoapp"},a.a.createElement("div",null,a.a.createElement(O,null),a.a.createElement(g,{activeTodoCount:o}),e)))},h=o(5),D=o(19),y=o(20),C=o(21),I=o.n(C),A=o(22),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_ALL",t=arguments.length>1?arguments[1]:void 0;return"@@filter/SET_FILTER"===t.type?t.payload:e},N=o(4),S=o(23),k=o(1),w=o(48),G={data:[],editingTodoId:null,editingTodoTitle:""},R=Object(l.createReducer)(G,(p={},Object(N.a)(p,"@@todos/ADD_TODO",(function(e,t){var o=t.payload;return Object(k.a)(Object(k.a)({},e),{},{data:[{_id:Object(w.a)(),text:o,completed:!1}].concat(Object(S.a)(e.data))})})),Object(N.a)(p,"@@todos/TOGGLE_TODO",(function(e,t){var o=t.payload,n=e.data.map((function(e){return e._id===o?Object(k.a)(Object(k.a)({},e),{},{completed:!e.completed}):e}));return Object(k.a)(Object(k.a)({},e),{},{data:n})})),Object(N.a)(p,"@@todos/REMOVE_TODO",(function(e,t){var o=t.payload;return Object(k.a)(Object(k.a)({},e),{},{data:e.data.filter((function(e){return e._id!==o}))})})),Object(N.a)(p,"@@todos/TOGGLE_ALL_TODO",(function(e,t){var o=t.payload,n=e.data.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{completed:o})}));return Object(k.a)(Object(k.a)({},e),{},{data:n})})),Object(N.a)(p,"@@todos/REMOVE_COMPLETED_TODOS",(function(e){return Object(k.a)(Object(k.a)({},e),{},{data:e.data.filter((function(e){return!e.completed}))})})),Object(N.a)(p,"@@todos/EDIT_TODO",(function(e,t){var o,n=t.payload,a=null===(o=e.data.find((function(e){return e._id===n})))||void 0===o?void 0:o.text;return Object(k.a)(Object(k.a)({},e),{},{editingTodoId:n,editingTodoTitle:a})})),Object(N.a)(p,"@@todos/CANCEL_EDIT_TODO",(function(e){return Object(k.a)(Object(k.a)({},e),{},{editingTodoId:null})})),Object(N.a)(p,"@@todos/CHANGE_EDITING_TODO_TITLE",(function(e,t){var o=t.payload;return Object(k.a)(Object(k.a)({},e),{},{editingTodoTitle:o})})),Object(N.a)(p,"@@todos/SAVING_EDITING_TODO_TITLE",(function(e){return Object(k.a)(Object(k.a)({},e),{},{data:e.data.map((function(t){return t._id===e.editingTodoId?Object(k.a)(Object(k.a)({},t),{},{text:e.editingTodoTitle}):t})),editingTodoId:null,editingTodoTitle:""})})),p)),W=Object(h.combineReducers)({todos:R,filter:L}),M=function(){var e=function(){try{var e=localStorage.getItem("reduxState");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),t={filter:"SHOW_ALL",todos:G};e&&(t=e);var o=Object(y.createLogger)({collapsed:!0}),n=[D.a,o],a=Object(A.composeWithDevTools)({}),c=Object(h.createStore)(W,t,a(h.applyMiddleware.apply(void 0,n)));return c.subscribe(I()((function(){console.log("saved to localStorage"),function(e){try{var t=JSON.stringify(e);localStorage.setItem("reduxState",t)}catch(o){}}(c.getState())}),1e3)),c}();function x(){return n.createElement(n.StrictMode,null,n.createElement(r.a,{store:M},n.createElement(_,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o(44),o(45);var H=document.getElementById("root");Object(c.render)(a.a.createElement(x,null),H),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.9e7ebfbf.chunk.js.map